Author:
Type: #resource
Link: <https://yeasy.gitbook.io/blockchain_guide/04_distributed_system/problem>
Topics: [[Block Chain]]

---

# [[Block Chain|区块链]]技术指南

## [[分布式系统]]的核心技术

### [[一致性]]问题

解决一致性问题，背后的核心思想，都是**将可能引发不一致的并行操作进行串行化**。这实际上也是现代分布式系统处理一致性问题的基础思路。

规范来看，分布式系统达成一致的过程，应该满足：

- 可终止性（Termination）：一致的结果在有限实现内完成
- 约同性（Agreement）：不同节点最终决策结果相同
- 合法性（Validity）：决策结果必须是某个节点提出的提案

事件发生的相对先后顺序（逻辑时钟）十分重要，确定了顺序，就没有了分歧。这也是解决分布式系统领域很多问题的核心秘诀：**把不同时空发生的多个事件进行全局唯一排序，而且这个顺序还得是大家都认可的**。

### [[共识]]算法

实践中，要保障系统满足不同程度的[[一致性]]，往往需要通过[[共识]]算法来达成。

共识算法解决的是分布式系统对某个提案（Proposal），大部分节点达成一致意见的过程。提案的含义在分布式系统中十分宽泛，如多个事件发生的顺序、某个键对应的值、谁是主节点……等等。可以认为任何可以达成一致的信息都是一个提案。

达成共识的挑战：

- [[Byzantine Fault]]
  - [[Proof of work|PoW]]
  - [[Algorand]]
  - [[Practical Byzantine Fault Tolerance]]，PBFT
- [[Non-Byzantine Fault]]
  - Paxos
  - Raft

[[Byzantine fault tolerance]] 性能往往较差，容错一般不超过30%的恶意节点。

理论证明告诉我们，**即便在网络通信可靠情况下，一个可扩展的分布式系统的共识问题通用解法的下限是——没有下限（无解）。**

### [[FLP不可能原理]]

FLP 不可能原理告诉我们，**不要浪费时间去试图为异步分布式系统设计面向任意场景的共识算法**。

但是理解 FLP 需要首先理解[[同步]]和[[异步]]：

- 同步：是指系统中的各个节点的时钟误差存在上限；并且消息传递必须在一定时间内完成，否则认为失败；同时各个节点完成处理消息的时间是一定的。因此同步系统可以轻易判断是节点宕机还是传输消息丢失
- 异步：意味着系统中各个节点可能存在较大的时钟差异；同时消息传输时间是任意长的；各节点对消息进行处理的时间也可能是任意长的。这就造成无法判断某个消息迟迟没有被响应是哪里出了问题

> 科学告诉你，什么是不可能的；工程则告诉你，付出一些代价，可以把它变成可行。

退一步讲，在付出一些代价的情况下，[[共识]]能做到多好？

### [[CAP原理]]

分布式系统领域的重要原理之一，深刻影响了分布式计算与系统设计的发展。

### [[Byzantine Problem]]

## [[Cryptography|密码学]]和安全技术

[[Merkle tree]]

[[Bloom Filter]]

[[Homomorphic Encryption]]

[[Zero Knowledge Proof]]


## [[Bitcoin]]

比特币的创新设计：

- [[Proof of work|PoW]]  采用博弈论避免邪恶节点破坏网络
- [[负反馈调节]]，控制论的基本原理

[[PoS]]: 一般情况下，对于 PoS 来说，需要掌握超过全网 1/3 的资源，才有可能左右最终的结果。这也很容易理解，三个人投票，前两人分别支持一方，这时候，第三方的投票将决定最终结果。

[[侧链]]： 
- Liquid



